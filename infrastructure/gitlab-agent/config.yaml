# GitLab Agent Configuration
# Place this file in: .gitlab/agents/<agent-name>/config.yaml
# Source: https://docs.gitlab.com/ee/user/clusters/agent/ci_cd_workflow/

# CI/CD access configuration
ci_access:
  # Projects that can use this agent for deployments
  projects:
    # Main GitOps repository
    - id: your-group/gitops-poc
      # Optionally restrict to specific environments
      # environments:
      #   - dev
      #   - staging
      #   - prod

    # Service repositories (add as needed)
    - id: your-group/api-gateway
    - id: your-group/auth-adapter
    - id: your-group/web-grpc
    - id: your-group/web-http
    - id: your-group/health-demo

  # Alternative: allow all projects in a group
  # groups:
  #   - id: your-group
  #     # Optional: restrict to specific environments
  #     # environments:
  #     #   - dev
  #     #   - staging

# User access for kubectl from CI/CD jobs
# user_access:
#   projects:
#     - id: your-group/gitops-poc
#       access_as:
#         agent: {}

# Observability (optional)
# observability:
#   logging:
#     level: debug  # debug, info, warn, error
