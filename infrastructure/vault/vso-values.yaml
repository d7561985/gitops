# Vault Secrets Operator Helm Values
# Source: https://developer.hashicorp.com/vault/docs/deploy/kubernetes/vso

# Default Vault connection (can be overridden per VaultAuth)
defaultVaultConnection:
  enabled: true
  address: "http://vault.vault.svc.cluster.local:8200"
  skipTLSVerify: true  # Dev mode only

# Controller configuration
controller:
  replicas: 1

  resources:
    requests:
      cpu: 50m
      memory: 128Mi
    limits:
      cpu: 100m
      memory: 256Mi

  # Manager configuration
  manager:
    # How often to check for secret updates
    maxConcurrentReconciles: 10

    # Client cache settings
    # For dev/POC: use "none" (in-memory only, no persistence)
    # For production: use "direct-encrypted" with Transit engine configured
    # Source: https://developer.hashicorp.com/vault/docs/platform/k8s/vso/sources/vault/client-cache
    clientCache:
      persistenceModel: "none"
      cacheSize: 10000

# Disable default auth method (we'll create our own per-service)
defaultAuthMethod:
  enabled: false

# Telemetry for monitoring
telemetry:
  serviceMonitor:
    enabled: false  # Enable if Prometheus is installed
